env:
  DOCKERFILE_FTEST_PATH: "Dockerfile.ftest.wolfi"

steps:
  - label: "ðŸ”¨ [Python {{ matrix }}] MySQL"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "mysql"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ Network Drive"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "network_drive"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ [Python {{ matrix }}] Amazon S3"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "s3"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ [Python {{ matrix }}] Google Cloud Storage"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "google_cloud_storage"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ [Python {{ matrix }}] Azure Blob Storage"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "azure_blob_storage"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ Postgresql"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "postgresql"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ System Directory"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "dir"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ Oracle Database"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "oracle"
      DATA_SIZE: "medium"
    env:
      SKIP_AARCH64: "true"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ Sharepoint Server"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "sharepoint_server"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ Sharepoint Online"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "sharepoint_online"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ Microsoft SQL"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "mssql"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ Jira"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "jira"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ Confluence"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "confluence"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ ServiceNow"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "servicenow"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ MongoDB"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "mongodb"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
#   - label: "ðŸ”¨ MongoDB Serverless"
#     command: ".buildkite/run_functional_test.sh"
#     env:
#       PYTHON_VERSION: "{{ matrix }}"
#       CONNECTOR: "mongodb_serverless"
#       DATA_SIZE: "medium"
#     matrix:
#       - "3.10"
#       - "3.11"
#       - "3.12"
#     artifact_paths:
#       - "perf8-report-*/**/*"
  - label: "ðŸ”¨ GitHub"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "github"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ Google Drive"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "google_drive"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ Dropbox"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ dropbox }}"
      CONNECTOR: "s3"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ OneDrive"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "onedrive"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ Salesforce"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "salesforce"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ Zoom"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "zoom"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ Box"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "box"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ Notion"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "notion"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ Redis"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "redis"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
  - label: "ðŸ”¨ GraphQL"
    command: ".buildkite/run_functional_test.sh"
    env:
      PYTHON_VERSION: "{{ matrix }}"
      CONNECTOR: "graphql"
      DATA_SIZE: "medium"
    artifact_paths:
      - "perf8-report-*/**/*"
    matrix:
      - "3.10"
      - "3.11"
      - "3.12"
